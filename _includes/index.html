<div class="posts">
 <!--TODO: add a "where" filter-->
<!--  { % for post in ( paginator.posts | where:"lang", lang ) % }-->

  <!--Adapted from KleinFreund.github.io -->
    {% assign posts = site.posts | where: "lang", page.lang %}

    <ul class="post-list  post-list--archive">
    {% for post in posts %}
        <li class="current-post">
            <a class="post-list__link" href="{{ post.url }}">
            
            <!--TODO propagade upward-->
            <time class="timestamp" datetime="{{ post.date | date: '%Y-%m-%d' }}">
                {{ post.date | date: '%Y' }}
            </time>
    
            <span class="post-title">{{ post.title }}</span>

           </a>
        </li>
    {% endfor %}
    </ul>

  </ul>
</div>
